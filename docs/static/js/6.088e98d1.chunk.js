(this["webpackJsonpvideo-loop-tool"]=this["webpackJsonpvideo-loop-tool"]||[]).push([[6],{152:function(t,e,a){"use strict";a.r(e);var i=a(22),n=a(100),l=a(101),s=a(110),o=a(108),r=a(0),d=a(7),c=a(93),u=a(95),h=a(155),p=a(92),y=a(154),m=a(157),f=a(3);a(103);var g=function(t){Object(s.a)(a,t);var e=Object(o.a)(a);function a(t){var i;Object(n.a)(this,a),(i=e.call(this,t)).state=void 0;var l=localStorage.getItem("Playlists"),s=null!==l?JSON.parse(l):[],o=void 0;return s.length>0&&(o=0),i.state={playlists:s,selectedPlaylist:o},i}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;window.onbeforeunload=function(){return t.saveChanges(),""}}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"addPlaylist",value:function(){var t={Id:this.state.playlists.length>0?Math.max.apply(Math,this.state.playlists.map((function(t){return t.Id})))+1:1,Name:"",Videos:[]},e=Object(i.a)(this.state.playlists);e.push(t),this.setState({playlists:e,selectedPlaylist:e.length-1})}},{key:"removePlaylist",value:function(t){var e=Object(i.a)(this.state.playlists);e=e.filter((function(e){return e.Id!==t}));var a=this.state.playlists[this.state.selectedPlaylist].Id===t;this.setState({playlists:e,selectedPlaylist:a?void 0:this.state.selectedPlaylist})}},{key:"addVideo",value:function(t){var e=Object(i.a)(this.state.playlists),a=e.filter((function(e){return e.Id===t}))[0];a.Videos.push({Id:a.Videos.length>0?Math.max.apply(Math,a.Videos.map((function(t){return t.Id})))+1:1,Name:"",VideoId:"",StartTime:0,EndTime:0}),this.setState({playlists:e})}},{key:"removeVideo",value:function(t,e){var a=Object(i.a)(this.state.playlists),n=a.filter((function(e){return e.Id===t}))[0];n.Videos=n.Videos.filter((function(t){return t.Id!==e})),this.setState({playlists:a})}},{key:"handlePlaylistChange",value:function(t,e,a){var n=Object(i.a)(this.state.playlists);n[e][a]=t.target.value,this.setState({playlists:n})}},{key:"handleVideoChange",value:function(t,e,a,n){var l=Object(i.a)(this.state.playlists);l[e].Videos[a][n]=t.target.value,this.setState({playlists:l})}},{key:"saveChanges",value:function(){localStorage.setItem("Playlists",JSON.stringify(this.state.playlists))}},{key:"handlePlaylistDropdownChange",value:function(t){this.saveChanges(),this.setState({selectedPlaylist:parseInt(t.target.value)})}},{key:"promptMessageCallback",value:function(t,e){return this.saveChanges(),!0}},{key:"nameof",value:function(t,e){var a={};return Object.keys(t).map((function(t){return a[t]=function(){return t}})),e(a)()}},{key:"render",value:function(){var t=this,e=void 0;if(void 0!==this.state.selectedPlaylist){var a=this.state.playlists[this.state.selectedPlaylist],i=this.state.selectedPlaylist;e=Object(f.jsx)(c.a,{variant:"outlined",style:{margin:"12px",padding:"0 !important"},children:Object(f.jsx)(u.a,{style:{padding:"0 !important"},children:Object(f.jsxs)("div",{children:[Object(f.jsx)(h.a,{id:"standard-basic",label:"Playlist Name",defaultValue:null===a||void 0===a?void 0:a.Name,onChange:function(e){return t.handlePlaylistChange(e,i,t.nameof(a,(function(t){return t.Name})))},style:{width:"400px",marginRight:"12px"}}),Object(f.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){t.addVideo(a.Id)},style:{marginTop:"12px",marginRight:"12px"},children:"Add Video"}),Object(f.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){t.removePlaylist(a.Id)},style:{marginTop:"12px"},children:"Remove Playlist"}),a.Videos.map((function(e,n){return Object(f.jsx)(c.a,{className:"changeColor",variant:"outlined",style:{margin:"12px"},children:Object(f.jsx)(u.a,{children:Object(f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(f.jsx)("img",{src:"https://img.youtube.com/vi/"+e.VideoId+"/hqdefault.jpg",style:{width:"80x",height:"45px",marginRight:"12px",marginBottom:"12px"}}),Object(f.jsx)(h.a,{id:"standard-basic",label:"Video Name",defaultValue:e.Name,onChange:function(a){return t.handleVideoChange(a,i,n,t.nameof(e,(function(t){return t.Name})))},style:{width:"200px",marginRight:"12px",marginBottom:"12px"}}),Object(f.jsx)(h.a,{id:"standard-basic",label:"Video VideoId",defaultValue:e.VideoId,onChange:function(a){return t.handleVideoChange(a,i,n,t.nameof(e,(function(t){return t.VideoId})))},style:{width:"200px",marginRight:"12px",marginBottom:"12px"}}),Object(f.jsx)(h.a,{id:"standard-basic",label:"Video StartTime",defaultValue:e.StartTime,onChange:function(a){return t.handleVideoChange(a,i,n,t.nameof(e,(function(t){return t.StartTime})))},style:{width:"200px",marginRight:"12px",marginBottom:"12px"}}),Object(f.jsx)(h.a,{id:"standard-basic",label:"Video EndTime",defaultValue:e.EndTime,onChange:function(a){return t.handleVideoChange(a,i,n,t.nameof(e,(function(t){return t.EndTime})))},style:{width:"200px",marginRight:"12px",marginBottom:"12px"}}),Object(f.jsx)("div",{style:{alignSelf:"center"},children:Object(f.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){t.removeVideo(a.Id,e.Id)},children:"Remove Video"})})]})})},e.Id)}))]})})},a.Id)}return Object(f.jsxs)("div",{children:[Object(f.jsx)(d.a,{when:!0,message:function(e,a){return t.promptMessageCallback(e,a)}}),Object(f.jsx)(c.a,{variant:"outlined",style:{margin:"12px"},children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)("h2",{children:"Playlists"}),Object(f.jsx)("div",{style:{display:"flex",flexWrap:"wrap"}}),Object(f.jsx)(y.a,{label:"Playlists",displayEmpty:!0,renderValue:void 0!==this.state.selectedPlaylist?function(){return t.state.playlists[t.state.selectedPlaylist].Name}:function(){return"Playlists"},defaultValue:"Playlists",onChange:function(e){return t.handlePlaylistDropdownChange(e)},style:{marginRight:"24px",minWidth:"200px"},children:this.state.playlists.map((function(t,e){return Object(f.jsxs)(m.a,{value:e,children:["#",t.Id,": ",t.Name]},t.Id)}))}),Object(f.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){t.addPlaylist()},style:{marginRight:"12px"},children:"Add New Playlist"}),Object(f.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){t.saveChanges()},style:{marginRight:"12px"},children:"Save Changes"})]})}),e]})}}]),a}(r.Component);e.default=g}}]);
//# sourceMappingURL=6.088e98d1.chunk.js.map