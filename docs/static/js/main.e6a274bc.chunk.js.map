{"version":3,"sources":["VideoLoopTool.js","App.js","reportWebVitals.js","index.js"],"names":["VideoLoopTool","player","undefined","leftHandle","rightHandle","leftValue","rightValue","urlParameters","URLSearchParams","window","location","search","videoId","get","queryStartTime","queryEndTime","startLoop","set","loadVideoById","setTimeout","createSlider","getDuration","seekTo","min","max","slider","$","range","values","slide","event","ui","innerHTML","wrap","history","pushState","newurl","protocol","host","pathname","toString","path","getCurrentTime","children","empty","prepend","value","format","left","Date","toISOString","substr","loadPlayer","YT","Player","playerVars","modestbranding","rel","showinfo","autoplay","mute","height","width","events","duration","data","PlayerState","PLAYING","loopTimeout","setInterval","PAUSED","clearTimeout","ENDED","onYouTubePlayerAPIReady","getScript","style","display","id","margin","TextField","label","defaultValue","onChange","e","target","bind","this","Button","variant","color","onClick","require","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e6a274bc.chunk.js","sourcesContent":["import React from 'react';\r\nimport $ from 'jquery';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nrequire('jquery-ui/ui/widgets/slider');\r\n\r\nexport default function VideoLoopTool() {\r\n\r\n    var player = undefined;\r\n    var leftHandle = undefined;\r\n    var rightHandle = undefined;\r\n    var leftValue = undefined;\r\n    var rightValue = undefined;\r\n    var loopTimeout;\r\n\r\n    var urlParameters = new URLSearchParams(window.location.search);\r\n\r\n    // get the query string parameters if any\r\n    var videoId = urlParameters.get(\"v\");\r\n    var queryStartTime = urlParameters.get(\"s\");\r\n    var queryEndTime = urlParameters.get(\"e\");\r\n\r\n    // keep track when the user enters a new video id\r\n    function handleChange(e) {\r\n        videoId = e.target.value;\r\n    }\r\n\r\n    function startLoop() {\r\n\r\n        // set the query video id\r\n        urlParameters.set(\"v\", videoId);\r\n\r\n        // if the player already exists, load the video\r\n        if (player) {\r\n            player.loadVideoById(videoId);\r\n\r\n            if (loopTimeout) {\r\n                clearTimeout(loopTimeout);\r\n            }\r\n\r\n            setTimeout(function () {\r\n                var duration = player.getDuration();\r\n\r\n                var left = 0;\r\n                var right = duration;\r\n\r\n                createSlider(left, right);\r\n\r\n                player.seekTo(leftValue, true);\r\n\r\n            }, 500);\r\n\r\n            return;\r\n        }\r\n\r\n        // if YT hasn't been downloaded yet\r\n        if (!window.YT) {\r\n            // set the call back to load the player once this global callback from youtube is executed\r\n            window.onYouTubePlayerAPIReady = function () {\r\n                loadPlayer(videoId);\r\n            };\r\n\r\n            // go and get the script in the meantime\r\n            $.getScript('https://www.youtube.com/player_api');\r\n        }\r\n        // otherwise load the player\r\n        else {\r\n            loadPlayer(videoId);\r\n        }\r\n\r\n        function createSlider(min, max) {\r\n            var slider = $(\"#slider-range\").slider({\r\n                range: true,\r\n                // this should always be 0 -> duration\r\n                min: 0,\r\n                max: player.getDuration(),\r\n                values: [min, max],\r\n                slide: function (event, ui) {\r\n\r\n                    leftValue = ui.values[0];\r\n                    rightValue = ui.values[1];\r\n\r\n                    if (leftHandle) {\r\n                        leftHandle[0].innerHTML = wrap(leftValue, true, true);\r\n                        // update the query string parameter\r\n                        urlParameters.set(\"s\", leftValue);\r\n                    }\r\n\r\n                    if (rightHandle) {\r\n                        rightHandle[0].innerHTML = wrap(rightValue, true);\r\n                        // update the query string parameter\r\n                        urlParameters.set(\"e\", rightValue);\r\n                    }\r\n\r\n                    if (history.pushState) {\r\n                        var newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + \"?\" + urlParameters.toString();\r\n                        window.history.pushState({ path: newurl }, '', newurl);\r\n                    }\r\n\r\n                    if (player.getCurrentTime() < leftValue || player.getCurrentTime() > rightValue) {\r\n                        player.seekTo(leftValue, true);\r\n                    }\r\n                }\r\n            });\r\n\r\n            $(slider[0].children[1]).empty();\r\n            $(slider[0].children[2]).empty();\r\n\r\n            leftHandle = $(slider[0].children[1]).prepend(wrap(min, true, true));\r\n            rightHandle = $(slider[0].children[2]).prepend(wrap(max, true));\r\n\r\n            leftValue = min;\r\n            rightValue = max;\r\n\r\n            // update the query string when creating the slider\r\n            urlParameters.set(\"s\", leftValue);\r\n            urlParameters.set(\"e\", rightValue);\r\n\r\n            if (history.pushState) {\r\n                var newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + \"?\" + urlParameters.toString();\r\n                window.history.pushState({ path: newurl }, '', newurl);\r\n            }\r\n\r\n            function wrap(value, format, left) {\r\n                format = format == undefined ? false : true;\r\n                if (format) {\r\n                    value = new Date(value * 1000).toISOString().substr(11, 8);\r\n                }\r\n                var px = left ? \"-35px\" : \"35px\";\r\n                return '<span style=\"position: absolute !important; bottom: -50px; left: ' + px + '; color: #000 !important;\">' + value + '</span>';\r\n            }\r\n        }\r\n\r\n        function loadPlayer(videoId) {\r\n            player = new window.YT.Player('player', {\r\n                playerVars: {\r\n                    modestbranding: 1,\r\n                    rel: 0,\r\n                    showinfo: 0,\r\n                    autoplay: 0,\r\n                    mute: 0\r\n                },\r\n                height: 360,\r\n                width: 640,\r\n                videoId: videoId,\r\n                events: {\r\n                    'onReady': onPlayerReady,\r\n                    'onStateChange': onPlayerStateChange\r\n                }\r\n            });\r\n\r\n            function onPlayerReady(event) {\r\n                var duration = player.getDuration();\r\n\r\n                var left = queryStartTime || 0;\r\n                var right = queryEndTime || duration;\r\n\r\n                createSlider(left, right);\r\n\r\n                player.seekTo(leftValue, true);\r\n            }\r\n\r\n            function onPlayerStateChange(event) {\r\n                if (event.data == window.YT.PlayerState.PLAYING) {\r\n\r\n                    if (player && player.getCurrentTime() < leftValue) {\r\n                        player.seekTo(leftValue, true);\r\n                    }\r\n\r\n                    var loopTimeout = setInterval(function () {\r\n                        var currentTime = player.getCurrentTime();\r\n\r\n                        if (currentTime >= rightValue) {\r\n                            player.seekTo(leftValue, true);\r\n                        }\r\n                    }, 1000);\r\n                }\r\n                else if (event.data == window.YT.PlayerState.PAUSED) {\r\n                    if (loopTimeout) {\r\n                        clearTimeout(loopTimeout);\r\n                    }\r\n                }\r\n                else if (event.data == window.YT.PlayerState.ENDED) {\r\n                    if (loopTimeout) {\r\n                        clearTimeout(loopTimeout);\r\n                    }\r\n\r\n                    player.seekTo(leftValue, true);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (videoId) {\r\n        startLoop();\r\n    }\r\n\r\n    return (\r\n        <div style={{ 'textAlign': \"left\", 'width': '640px', 'margin': '0 auto' }}>\r\n            <h1>Video Loop Tool</h1>\r\n            <div style={{ display: 'block' }}>\r\n                <div id=\"player\"></div>\r\n            </div>\r\n            <div style={{ display: 'block' }}>\r\n\r\n            </div>\r\n            <div style={{ display: 'block' }}>\r\n                <div id=\"slider-range\" style={{ width: \"640px\", margin: '12px auto' }}></div>\r\n            </div>\r\n            <div style={{ display: 'block', 'textAlign': 'left', 'paddingTop': '25px' }}>\r\n                <div>\r\n                    <h2>Instructions</h2>\r\n                    <TextField id=\"standard-basic\" label=\"YouTube VideoID\" defaultValue={videoId} style={{ width: \"600px\" }} onChange={handleChange.bind(this)} />\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => { startLoop() }} style={{ 'marginTop': \"12px\"}}>\r\n                        Setup\r\n                    </Button>\r\n                    <h3>Overview</h3>\r\n                    <p>\r\n                        You can use this tool to loop parts of a youtube video. In the URL above you can specify the video (v), start time (s), and end time (e) in the query string:\r\n                    </p>\r\n                    <p>\r\n                        https://joemoceri.github.io/video-loop-tool?<strong>v</strong>=<strong>&#123;youtubeVideoId&#125;</strong>&<strong>s</strong>=<strong>&#123;startTimeInSeconds&#125;</strong>&<strong>e</strong>=<strong>&#123;endTimeInSeconds&#125;</strong>\r\n                    </p>\r\n                    <p>\r\n                        The URL will update as you update the video id and slider.\r\n                    </p>\r\n                    <h3>Method 1</h3>\r\n                    <p>\r\n                        Say you have a youtube url like this (where videoId is the youtube video id)\r\n                    </p>\r\n                    <p>\r\n                        <strong>https://www.youtube.com/watch?v=videoId</strong>\r\n                    </p>\r\n                    <p>\r\n                        If you change it to this\r\n                    </p>\r\n                    <p>\r\n                        <strong>https://joemoceri.github.io/video-loop-tool?v=videoId</strong>\r\n                    </p>\r\n                    <p>\r\n                        By replacing\r\n                    </p>\r\n                    <p>\r\n                        <strong>https://www.youtube.com/watch</strong> with <strong>https://joemoceri.github.io/video-loop-tool</strong>\r\n                    </p>\r\n                    <p>you can add additional looping capabilities to any youtube video.</p>\r\n                    <h3>Method 2</h3>\r\n                    <p>\r\n                        You can also grab the video id and put it into the field above. Run setup first when changing the video id, then hit play on the youtube video. You can change the range on the slider below to loop a specific part of the video. Then hit play.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import './App.css';\r\nimport VideoLoopTool from './VideoLoopTool';\r\n\r\nfunction App() {\r\n    return (\r\n        <VideoLoopTool />\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}