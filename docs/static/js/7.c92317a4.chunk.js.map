{"version":3,"sources":["video-loop-tool/video-loop-tool.component.tsx"],"names":["require","VideoSlider","styled","Slider","theme","height","width","VideoLoopTool","props","state","player","leftHandle","rightHandle","leftValue","rightValue","loopTimeout","urlParameters","queryStartTime","queryEndTime","playlists","URLSearchParams","window","location","search","storedPlaylists","localStorage","getItem","JSON","parse","selectedPlaylist","undefined","length","videoId","get","sliderValues","startLoop","e","this","setState","target","value","set","loadVideoById","clearTimeout","setTimeout","duration","getDuration","left","right","createSlider","seekTo","w","YT","loadPlayer","onYouTubePlayerAPIReady","$","getScript","min","max","newSlider","newLeftHandle","children","newRightHandle","remove","prepend","wrap","newurl","protocol","host","pathname","toString","history","pushState","path","startTime","endTime","innerHTML","Date","toISOString","substr","getCurrentTime","format","Player","playerVars","modestbranding","rel","showinfo","autoplay","mute","events","event","data","PlayerState","PLAYING","setInterval","PAUSED","ENDED","video","StartTime","EndTime","VideoId","parseInt","newValue","v","sliderMoved","playlistVideoHtml","Videos","map","videoIndex","variant","style","margin","padding","paddingBottom","display","flexWrap","src","alignSelf","color","onClick","selectVideo","Id","Name","paddingRight","label","displayEmpty","renderValue","defaultValue","onChange","handlePlaylistDropdownChange","playlist","playlistIndex","element","marginBottom","id","handleChange","marginTop","valueLabelFormat","handleSliderChange","valueLabelDisplay","className","Component"],"mappings":"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","file":"static/js/7.c92317a4.chunk.js","sourcesContent":["import $ from 'jquery';\r\nimport { Component } from 'react';\r\nimport { Playlist } from '../playlists/playlist.model';\r\nimport { Video } from '../playlists/video.model';\r\nimport Slider from '@mui/material/Slider';\r\nimport { Button, Card, CardContent, MenuItem, Select, styled, TextField } from '@mui/material';\r\nrequire('jquery-ui/ui/widgets/slider');\r\n\r\nexport interface VideoLoopToolProps {\r\n\r\n}\r\n\r\nexport interface VideoLoopToolState {\r\n    videoId: string;\r\n    selectedPlaylist: number | undefined;\r\n    sliderValues: number[];\r\n}\r\n\r\n\r\nconst VideoSlider = styled(Slider)(({ theme }) => ({\r\n    '& .MuiSlider-thumb': {\r\n        height: 36,\r\n        width: 36,\r\n    },\r\n}));\r\n\r\nexport default class VideoLoopTool extends Component<VideoLoopToolProps, VideoLoopToolState> {\r\n\r\n    state: VideoLoopToolState;\r\n\r\n    player: any;\r\n    leftHandle: any;\r\n    rightHandle: any;\r\n    leftValue: any;\r\n    rightValue: any;\r\n    loopTimeout: any;\r\n    urlParameters: URLSearchParams;\r\n    queryStartTime: any;\r\n    queryEndTime: any;\r\n    playlists: Playlist[];\r\n\r\n    constructor(props: VideoLoopToolProps) {\r\n        super(props);\r\n\r\n        // get the query string parameters if any\r\n        this.urlParameters = new URLSearchParams(window.location.search);\r\n\r\n        const storedPlaylists = localStorage.getItem(\"Playlists\");\r\n\r\n        this.playlists = storedPlaylists !== null ? JSON.parse(storedPlaylists) : [];\r\n\r\n        let selectedPlaylist = undefined;\r\n\r\n        // show the first playlist if there are any\r\n        if (this.playlists.length > 0) {\r\n            selectedPlaylist = 0;\r\n        }\r\n\r\n        this.state = {\r\n            videoId: this.urlParameters.get(\"v\")!,\r\n            selectedPlaylist: selectedPlaylist,\r\n            sliderValues: [0, 0]\r\n        }\r\n\r\n        this.queryStartTime = this.urlParameters.get(\"s\");\r\n        this.queryEndTime = this.urlParameters.get(\"e\");\r\n\r\n        if (this.state && this.state.videoId) {\r\n            this.startLoop();\r\n        }\r\n    }\r\n\r\n    // keep track when the user enters a new video id\r\n    handleChange(e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>): void {\r\n        this.setState({\r\n            videoId: e.target.value\r\n        });\r\n    }\r\n\r\n    startLoop(): void {\r\n\r\n        // set the query video id\r\n        this.urlParameters.set(\"v\", this.state.videoId);\r\n\r\n        // if the player already exists, load the video\r\n        if (this.player) {\r\n            this.player.loadVideoById(this.state.videoId);\r\n\r\n            if (this.loopTimeout) {\r\n                clearTimeout(this.loopTimeout);\r\n            }\r\n\r\n            setTimeout(() => {\r\n                var duration = this.player.getDuration();\r\n\r\n                var left = this.queryStartTime || 0;\r\n                var right = this.queryEndTime || duration;\r\n\r\n                this.createSlider(left, right);\r\n\r\n                this.player.seekTo(this.leftValue, true);\r\n\r\n            }, 500);\r\n\r\n            return;\r\n        }\r\n\r\n        let w = (window as any);\r\n\r\n        // if YT hasn't been downloaded yet\r\n        if (!w.YT) {\r\n            // set the call back to load the player once this global callback from youtube is executed\r\n            w.onYouTubePlayerAPIReady = () => {\r\n                this.loadPlayer(this.state.videoId);\r\n            };\r\n\r\n            // go and get the script in the meantime\r\n            $.getScript('https://www.youtube.com/player_api');\r\n        }\r\n        // otherwise load the player\r\n        else {\r\n            this.loadPlayer(this.state.videoId);\r\n        }\r\n    }\r\n\r\n    createSlider(min: number, max: number): void {\r\n\r\n        let newSlider = $(\".videoSlider\")[0] as any;\r\n        let newLeftHandle = $(newSlider.children[newSlider.children.length - 2]);\r\n        let newRightHandle = $(newSlider.children[newSlider.children.length -1]);\r\n\r\n        if (newLeftHandle.children(\"#videoSliderTime\").length > 0) {\r\n            newLeftHandle.children(\"#videoSliderTime\").remove();\r\n        }\r\n\r\n        if (newRightHandle.children(\"#videoSliderTime\").length > 0) {\r\n            newRightHandle.children(\"#videoSliderTime\").remove();\r\n        }\r\n\r\n        this.leftHandle = newLeftHandle.prepend(this.wrap(min, true, true));\r\n        this.rightHandle = newRightHandle.prepend(this.wrap(max, true, false));\r\n\r\n        this.leftValue = min;\r\n        this.rightValue = max;\r\n\r\n        // update the query string when creating the slider\r\n        this.urlParameters.set(\"s\", this.leftValue);\r\n        this.urlParameters.set(\"e\", this.rightValue);\r\n\r\n        var newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + \"?\" + this.urlParameters.toString();\r\n        window.history.pushState({ path: newurl }, '', newurl);\r\n\r\n        this.setState({\r\n            sliderValues: [this.leftValue, this.rightValue]\r\n        });\r\n    }\r\n\r\n    sliderMoved(startTime: any, endTime: any): void {\r\n\r\n        this.leftValue = startTime;\r\n        this.rightValue = endTime;\r\n\r\n        if (this.leftHandle) {\r\n            this.leftHandle[0].children[0].innerHTML = new Date(this.leftValue * 1000).toISOString().substr(11, 8);\r\n            // update the query string parameter\r\n            this.urlParameters.set(\"s\", this.leftValue);\r\n        }\r\n\r\n        if (this.rightHandle) {\r\n            this.rightHandle[0].children[0].innerHTML = new Date(this.rightValue * 1000).toISOString().substr(11, 8);\r\n            // update the query string parameter\r\n            this.urlParameters.set(\"e\", this.rightValue);\r\n        }\r\n\r\n        var newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + \"?\" + this.urlParameters.toString();\r\n\r\n        window.history.pushState({ path: newurl }, '', newurl);\r\n\r\n        if (this.player.getCurrentTime() < this.leftValue || this.player.getCurrentTime() > this.rightValue) {\r\n            this.player.seekTo(this.leftValue, true);\r\n        }\r\n    }\r\n\r\n    wrap(value: any, format: boolean, left: boolean): string {\r\n        if (format) {\r\n            value = new Date(value * 1000).toISOString().substr(11, 8);\r\n        }\r\n        var px = left ? \"-35px\" : \"35px\";\r\n        return '<span id=\"videoSliderTime\" style=\"position: absolute !important; bottom: -50px; left: ' + px + '; color: #000 !important;\">' + value + '</span>';\r\n    }\r\n\r\n    loadPlayer(videoId: any): void {\r\n        this.player = new (window as any).YT.Player('player', {\r\n            playerVars: {\r\n                modestbranding: 1,\r\n                rel: 0,\r\n                showinfo: 0,\r\n                autoplay: 0,\r\n                mute: 0\r\n            },\r\n            height: 360,\r\n            width: 640,\r\n            videoId: videoId,\r\n            events: {\r\n                'onReady': (e: any) => {\r\n                    var duration = this.player.getDuration();\r\n\r\n                    var left = this.queryStartTime || 0;\r\n                    var right = this.queryEndTime || duration;\r\n\r\n                    this.createSlider(left, right);\r\n\r\n                    this.player.seekTo(this.leftValue, true);\r\n                },\r\n                'onStateChange': (event: any) => {\r\n                    if (event.data == (window as any).YT.PlayerState.PLAYING) {\r\n\r\n                        if (this.player && this.player.getCurrentTime() < this.leftValue) {\r\n                            this.player.seekTo(this.leftValue, true);\r\n                        }\r\n\r\n                        this.loopTimeout = setInterval(() => {\r\n                            var currentTime = this.player.getCurrentTime();\r\n\r\n                            if (currentTime >= this.rightValue) {\r\n                                this.player.seekTo(this.leftValue, true);\r\n                            }\r\n                        }, 1000);\r\n                    }\r\n                    else if (event.data == (window as any).YT.PlayerState.PAUSED) {\r\n                        if (this.loopTimeout) {\r\n                            clearTimeout(this.loopTimeout);\r\n                        }\r\n                    }\r\n                    else if (event.data == (window as any).YT.PlayerState.ENDED) {\r\n                        if (this.loopTimeout) {\r\n                            clearTimeout(this.loopTimeout);\r\n                        }\r\n\r\n                        this.player.seekTo(this.leftValue, true);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    selectVideo(video: Video): void {\r\n        this.queryStartTime = video.StartTime;\r\n        this.queryEndTime = video.EndTime;\r\n\r\n\r\n        this.setState({\r\n            videoId: video.VideoId\r\n        }, () => {\r\n            this.startLoop();\r\n        });\r\n    }\r\n\r\n    handlePlaylistDropdownChange(e: any): void {\r\n        this.setState({\r\n            selectedPlaylist: parseInt(e.target.value)\r\n        });\r\n    }\r\n\r\n    handleSliderChange(e: Event, newValue: number | number[]): void {\r\n\r\n        let v = newValue as number[];\r\n\r\n        this.sliderMoved(v[0], v[1]);\r\n\r\n        this.setState({\r\n            sliderValues: v\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let playlistVideoHtml: JSX.Element[] = [];\r\n        if (this.state.selectedPlaylist !== undefined) {\r\n            playlistVideoHtml = this.playlists[this.state.selectedPlaylist!].Videos.map((video, videoIndex) => {\r\n                return (\r\n                    <Card key={video.Id} variant=\"outlined\" style={{ margin: '12px', padding: '0 !important' }}>\r\n                        <CardContent key={video.Id} style={{ paddingBottom: '0 !important' }}>\r\n                            <div key={video.Id} style={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                            <img src={\"https://img.youtube.com/vi/\" + video.VideoId + \"/hqdefault.jpg\"} style={{ width: '80x', height: '45px', \"marginRight\": \"12px\", paddingBottom: '12px' }} />\r\n\r\n                                <div style={{ alignSelf: 'center' }} key={video.Id}>\r\n                                <Button variant=\"contained\" color=\"primary\" onClick={() => { this.selectVideo(video) }} style={{ \"marginRight\": \"12px\" }}>\r\n                                    Select\r\n                                </Button>\r\n                            </div>\r\n                            <p>{video.Name} ({video.StartTime}s - {video.EndTime}s)</p>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n                );\r\n            });\r\n        }\r\n\r\n        return (\r\n            <Card variant=\"outlined\" style={{ margin: '12px', padding: '0 !important', 'minHeight': '750px' }}>\r\n                    <CardContent style={{ padding: '0 !important' }}>\r\n                    <div style={{ 'textAlign': \"left\", 'margin': '0 auto', display: 'flex' }}>\r\n                        <div>\r\n                            <div style={{ display: 'block', 'textAlign': 'left', paddingRight: '36px' }}>\r\n                                <div>\r\n                                    <h1>Playlists</h1>\r\n                                    <Select\r\n                                        label=\"Playlists\"\r\n                                        displayEmpty\r\n                                        renderValue={this.state.selectedPlaylist !== undefined ? () => this.playlists[this.state.selectedPlaylist!].Name : () => 'Playlists'}\r\n                                        defaultValue=\"Playlists\"\r\n                                        onChange={e => this.handlePlaylistDropdownChange(e)}\r\n                                        style={{ 'minWidth': '200px'}}\r\n                                    >\r\n                                        {\r\n                                            this.playlists.map((playlist, playlistIndex) => {\r\n                                                return (\r\n                                                    <MenuItem key={playlist.Id} value={playlistIndex}>#{playlist.Id}: {playlist.Name}</MenuItem>\r\n                                                );\r\n                                            })\r\n                                        }\r\n                                    </Select>\r\n                                    {\r\n                                        playlistVideoHtml.map(element => {\r\n                                            return element;\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <h1>Video Loop Tool</h1>\r\n                            <div style={{ display: 'flex', marginBottom: '12px' }}>\r\n                                <Button variant=\"contained\" color=\"primary\" onClick={() => { this.startLoop() }} style={{ 'marginTop': \"12px\", 'marginRight': '12px' }}>\r\n                                    Setup\r\n                                </Button>\r\n                                <TextField id=\"standard-basic\" label=\"YouTube VideoID\" value={this.state ? this.state.videoId || '' : ''} style={{ width: \"200px\" }} onChange={e => this.handleChange(e)} />\r\n                            </div>\r\n                            <div style={{ display: 'block' }}>\r\n                                <div id=\"player\"></div>\r\n                            </div>\r\n                            <div style={{ display: 'block', marginTop: '36px' }}>\r\n                                <VideoSlider\r\n                                    value={this.state.sliderValues}\r\n                                    valueLabelFormat={(v) => v + 's'}\r\n                                    onChange={(e: Event, newValue: number | number[]) => this.handleSliderChange(e, newValue)}\r\n                                    valueLabelDisplay=\"auto\"\r\n                                    min={0}\r\n                                    max={this.player ? parseInt(this.player.getDuration()) : 0}\r\n                                    className={\"videoSlider\"}\r\n                                />\r\n                            </div>\r\n                            <div style={{ display: 'block' }}>\r\n                                <div id=\"slider-range\" style={{ width: \"640px\", margin: '12px auto' }}></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </CardContent>\r\n                </Card>\r\n        );\r\n    }\r\n};"],"sourceRoot":""}